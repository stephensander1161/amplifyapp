{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sander\\\\Documents\\\\GitHub\\\\amplifyapp\\\\src\\\\pages\\\\home\\\\Home.js\";\nimport React, { useEffect, useState } from 'react';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport { createTodo } from './graphql/mutations';\nimport { listTodos } from './graphql/queries';\nimport awsExports from \"../../aws-exports\";\nAmplify.configure(awsExports);\nconst initialState = {\n  name: '',\n  description: ''\n};\n\nconst Home = () => {\n  const [formState, setFormState] = useState(initialState);\n  const [todos, setTodos] = useState([]);\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  function setInput(key, value) {\n    setFormState({ ...formState,\n      [key]: value\n    });\n  }\n\n  async function fetchTodos() {\n    try {\n      const todoData = await API.graphql(graphqlOperation(listTodos));\n      const todos = todoData.data.listTodos.items;\n      setTodos(todos);\n    } catch (err) {\n      console.log('error fetching todos');\n    }\n  }\n\n  async function addTodo() {\n    try {\n      if (!formState.name || !formState.description) return;\n      const todo = { ...formState\n      };\n      setTodos([...todos, todo]);\n      setFormState(initialState);\n      await API.graphql(graphqlOperation(createTodo, {\n        input: todo\n      }));\n    } catch (err) {\n      console.log('error creating todo:', err);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Amplify Todos\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => setInput('name', event.target.value),\n    style: styles.input,\n    value: formState.name,\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => setInput('description', event.target.value),\n    style: styles.input,\n    value: formState.description,\n    placeholder: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: styles.button,\n    onClick: addTodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Create Todo\"), todos.map((todo, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: todo.id ? todo.id : index,\n    style: styles.todo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.todoName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, todo.name), /*#__PURE__*/React.createElement(\"p\", {\n    style: styles.todoDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, todo.description))));\n};\n\nconst styles = {\n  container: {\n    width: 400,\n    margin: '0 auto',\n    display: 'flex',\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    padding: 20\n  },\n  todo: {\n    marginBottom: 15\n  },\n  input: {\n    border: 'none',\n    backgroundColor: '#ddd',\n    marginBottom: 10,\n    padding: 8,\n    fontSize: 18\n  },\n  todoName: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  todoDescription: {\n    marginBottom: 0\n  },\n  button: {\n    backgroundColor: 'black',\n    color: 'white',\n    outline: 'none',\n    fontSize: 18,\n    padding: '12px 0px'\n  }\n};\nexport default Home;","map":{"version":3,"sources":["C:/Users/sander/Documents/GitHub/amplifyapp/src/pages/home/Home.js"],"names":["React","useEffect","useState","Amplify","API","graphqlOperation","createTodo","listTodos","awsExports","configure","initialState","name","description","Home","formState","setFormState","todos","setTodos","fetchTodos","setInput","key","value","todoData","graphql","data","items","err","console","log","addTodo","todo","input","styles","container","event","target","button","map","index","id","todoName","todoDescription","width","margin","display","flex","flexDirection","justifyContent","padding","marginBottom","border","backgroundColor","fontSize","fontWeight","color","outline"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\r\nimport { createTodo } from './graphql/mutations'\r\nimport { listTodos } from './graphql/queries'\r\n\r\nimport awsExports from \"../../aws-exports\";\r\nAmplify.configure(awsExports);\r\n\r\nconst initialState = { name: '', description: '' }\r\n\r\nconst Home = () => {\r\n  const [formState, setFormState] = useState(initialState)\r\n  const [todos, setTodos] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetchTodos()\r\n  }, [])\r\n\r\n  function setInput(key, value) {\r\n    setFormState({ ...formState, [key]: value })\r\n  }\r\n\r\n  async function fetchTodos() {\r\n    try {\r\n      const todoData = await API.graphql(graphqlOperation(listTodos))\r\n      const todos = todoData.data.listTodos.items\r\n      setTodos(todos)\r\n    } catch (err) { console.log('error fetching todos') }\r\n  }\r\n\r\n  async function addTodo() {\r\n    try {\r\n      if (!formState.name || !formState.description) return\r\n      const todo = { ...formState }\r\n      setTodos([...todos, todo])\r\n      setFormState(initialState)\r\n      await API.graphql(graphqlOperation(createTodo, {input: todo}))\r\n    } catch (err) {\r\n      console.log('error creating todo:', err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2>Amplify Todos</h2>\r\n      <input\r\n        onChange={event => setInput('name', event.target.value)}\r\n        style={styles.input}\r\n        value={formState.name} \r\n        placeholder=\"Name\"\r\n      />\r\n      <input\r\n        onChange={event => setInput('description', event.target.value)}\r\n        style={styles.input}\r\n        value={formState.description}\r\n        placeholder=\"Description\"\r\n      />\r\n      <button style={styles.button} onClick={addTodo}>Create Todo</button>\r\n      {\r\n        todos.map((todo, index) => (\r\n          <div key={todo.id ? todo.id : index} style={styles.todo}>\r\n            <p style={styles.todoName}>{todo.name}</p>\r\n            <p style={styles.todoDescription}>{todo.description}</p>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: { width: 400, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\r\n  todo: {  marginBottom: 15 },\r\n  input: { border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\r\n  todoName: { fontSize: 20, fontWeight: 'bold' },\r\n  todoDescription: { marginBottom: 0 },\r\n  button: { backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\r\n}\r\n\r\nexport default Home"]},"metadata":{},"sourceType":"module"}